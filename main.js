!function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],m=0,d=[];m<o.length;m++)i=o[m],a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={1:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([81,2]),n()}({12:function(e,t,n){e.exports={graphs:"_2npV",line:"_1-R2",pie:"_1bB3"}},15:function(e,t,n){e.exports={root:"_21eW",content:"_1Ne0",header:"_22QN",loader:"_1eE5",error:"_3r0G",active:"_2Qsh"}},21:function(e,t,n){e.exports={menu:"_2yZd",active:"FxE0",menuLink:"_2I-y"}},26:function(e,t,n){e.exports={spinner:"folV",doubleBounce1:"_1or5",doubleBounce2:"_2X9T","sk-bounce":"_13t5"}},27:function(e,t,n){e.exports={alert:"_3jhf",dismiss:"_3_M8","alert-success":"_2MkZ","alert-link":"xEtu","alert-info":"_2hq_","alert-warning":"_2Xlr","alert-danger":"f-oV","alert-mini-danger":"_1r3Z"}},3:function(e,t,n){e.exports={error:"_2yyZ",clip:"MKxW",shadow:"_397p",digit:"_21jO",msg:"_2czz",triangle:"_3Dm3",container:"_1lDU"}},78:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(35),s=n(25),i=n(83),o=n(85),c=n(84),l=n(11),u=n(39);function m(e){return e}var d={hasError:!1,code:null,message:null,details:null,time:null},p={stats:null,loading:!1,error:d};var f,v=Object(l.c)({bjj:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BJJ_STATS_REQUEST":return Object.assign({},e,{loading:!0});case"GET_BJJ_STATS_SUCCESS":return Object.assign({},e,{stats:t.payload.stats,loading:!1,error:Object.assign({},d)});case"GET_BJJ_STATS_FAILURE":return Object.assign({},e,{loading:!1,error:Object.assign({},t.payload)});default:return m(t),e}}}),h=n(5),g=n.n(h),E=n(8),y=n(9),b=n.n(y),N=n(10),j=n.n(N),_=n(16),k=n.n(_),w=n(13),x=n.n(w),T=n(17),S=n.n(T),O=n(22),A=n.n(O),G=n(40),M=function(e){function t(e,n){var r;return b()(this,t),r=k()(this,x()(t).call(this,e)),Object.setPrototypeOf(A()(A()(r)),t.prototype),r.response=n,r}return S()(t,e),j()(t,[{key:"getBody",value:function(){return E.a(this,void 0,void 0,g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.response.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),t}(n.n(G)()(Error));!function(e){e[e.Unknown=0]="Unknown"}(f||(f={}));function H(e){return e&&e.type&&e.type.indexOf("UNHANDLED_API_ERROR")>=0}function U(e){return e&&e.type&&e.type.indexOf("UNHANDLED_CLIENT_ERROR")>=0}function C(e){return E.a(this,void 0,void 0,g.a.mark(function t(){var n;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBody();case 2:if(!(n=t.sent)||!n.message){t.next=6;break}return t.abrupt("return",{code:f.Unknown,details:n.message});case 6:return t.abrupt("return",{code:f.Unknown,details:null});case 7:case"end":return t.stop()}},t,this)}))}function B(e,t,n){return{type:e,payload:{code:t,details:n,time:new Date,message:function(e){switch(e){case f.Unknown:return"Something went wrong. Try again later.";default:return m(e),"Something went wrong. Try again later."}}(t),hasError:!0}}}var J=function(e){var t=e.dispatch;return function(e){return function(n){return E.a(void 0,void 0,void 0,g.a.mark(function r(){var a,s,i,o,c,l,u;return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e(n),!H(n)){r.next=16;break}if(s=n.payload,i=s.err,o=s.handledAction,!(n.payload.err instanceof M)){r.next=13;break}return r.next=7,C(i);case 7:c=r.sent,l=c.code,u=c.details,t(B(o,l,u)),r.next=14;break;case 13:t(B(o,f.Unknown));case 14:r.next=17;break;case 16:U(n)&&t(B(n.payload.handledAction,n.payload.code));case 17:return r.abrupt("return",a);case 18:case"end":return r.stop()}},r,this)}))}}};var D=n(3),R=n(7),P=r.createElement("h2",null,"Sorry! Page not found");var L=n(14),V=n.n(L);n(20);function I(e){if(e.status>=200&&e.status<300)return e;throw new M("".concat(e.status,": ").concat(e.statusText),e)}function z(e){return new Headers(Object.assign({"Content-Type":"application/json",Accept:"application/json"},null!=e?{Authorization:"".concat(e)}:{}))}function F(e){return e.json()}var Q=new(function(){function e(){b()(this,e)}return j()(e,[{key:"getBjjStats",value:function(){return E.a(this,void 0,void 0,g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://27shtszeu6.execute-api.us-east-1.amazonaws.com/dev/calendars","/fitness/bjj"),{headers:z()}).then(I).then(F);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}))}}]),e}());function Z(e,t){return{type:"UNHANDLED_API_ERROR",payload:{err:e,handledAction:t}}}function W(e){return{type:"GET_BJJ_STATS_SUCCESS",payload:{stats:e}}}var X=n(26);var q=n(27);function K(e){var t=e.type,n=e.message,a=e.onDismiss,s=e.className;return r.createElement("div",{className:R(q.alert,q["alert-".concat(t)],s)},n,a&&r.createElement("span",{className:q.dismiss,onClick:a},"Dismiss"))}var Y,$,ee,te=n(21),ne=r.createElement("span",null),re=r.createElement("div",{className:"pure-menu"},r.createElement("a",{className:"pure-menu-heading",href:"#"},"Jiu-Jitsu"),r.createElement("ul",{className:"pure-menu-list"},r.createElement("li",{className:"pure-menu-item"},r.createElement("a",{href:"#",className:"pure-menu-link"},"Overview")),r.createElement("li",{className:"pure-menu-item"},r.createElement("a",{href:"#",className:"pure-menu-link"},"Promotions")),r.createElement("li",{className:"pure-menu-item"},r.createElement("a",{href:"#",className:"pure-menu-link menu-item-divided"},"Time Series")),r.createElement("li",{className:"pure-menu-item pure-menu-selected"},r.createElement("a",{href:"#",className:"pure-menu-link"},"Gi vs. NoGi")),r.createElement("li",{className:"pure-menu-item"},r.createElement("a",{href:"#",className:"pure-menu-link"},"Time of day")),r.createElement("li",{className:"pure-menu-item"},r.createElement("a",{href:"#",className:"pure-menu-link"},"Type of class")),r.createElement("li",{className:"pure-menu-item"},r.createElement("a",{href:"#",className:"pure-menu-link menu-item-divided"},"Day of week")))),ae=function(e){function t(){return b()(this,t),k()(this,x()(t).apply(this,arguments))}return S()(t,e),j()(t,[{key:"render",value:function(){var e=this.props,t=e.menuVisible,n=e.toggleVisibility;return[r.createElement("a",{href:"#",className:R(te.menuLink,V()({},te.active,t)),key:"1",onClick:n},ne),r.createElement("div",{key:"2",className:R(te.menu,V()({},te.active,t))},re)]}}]),t}(r.PureComponent),se=n(15),ie=n(23);!function(e){e[e.Morning=0]="Morning",e[e.Afternoon=1]="Afternoon",e[e.Evening=2]="Evening",e[e.Unknown=3]="Unknown"}(Y||(Y={})),function(e){e[e.Gi=0]="Gi",e[e.NoGi=1]="NoGi",e[e.Unknown=2]="Unknown"}($||($={})),function(e){e[e.Fundamental=0]="Fundamental",e[e.AllLevels=1]="AllLevels",e[e.Advanced=2]="Advanced",e[e.Unknown=3]="Unknown"}(ee||(ee={}));var oe=n(41),ce=n.n(oe),le=function(e){return e.bjj.stats&&e.bjj.stats.classes||[]},ue=function(e,t,n){return ce()(e).concat([{x:new Date(t.start).getTime(),y:t.durationHours+(e[n-1]||{y:0}).y}])},me=Object(ie.createSelector)(le,function(e){return{gi:e.filter(function(e){return e.type===$.Gi}).reduce(ue,[]),noGi:e.filter(function(e){return e.type===$.NoGi}).reduce(ue,[])}}),de=n(18),pe=n(19),fe=n.n(pe),ve=n(12),he={title:{text:void 0},credits:{enabled:!1},xAxis:{type:"datetime"},yAxis:{title:{text:"Cumulative hours"}},plotOptions:{pie:{dataLabels:{distance:-70,color:"white",formatter:function(){return"<div class='hcCenter'>"+"<span>".concat(this.point.name,"</span><span>").concat(this.y,"hrs (").concat(Math.round(this.percentage),"%)</span>")+"</div>"},useHTML:!0}}}},ge=["#2ecc71","#3498db"],Ee=r.createElement("h2",null,"Gi vs. NoGi");function ye(e){var t=e.stats,n=t.gi,a=t.noGi,s=e.totalNoGiHours,i=e.totalGiHours,o=Object.assign({},he,{series:[{name:"Gi",color:ge[0],data:n},{name:"NoGi",color:ge[1],data:a}]}),c=Object.assign({},he,{chart:{type:"pie"},series:[{data:[{name:"Gi",y:i,color:ge[0]},{name:"NoGi",y:s,color:ge[1]}]}]});return r.createElement("div",null,Ee,r.createElement("div",{className:ve.graphs},r.createElement("div",{className:ve.line},r.createElement(fe.a,{highcharts:de,options:o})),r.createElement("div",{className:ve.pie},r.createElement(fe.a,{highcharts:de,options:c}))))}var be=Object(ie.createSelector)(le,function(e){return{morning:e.filter(function(e){return e.classTime===Y.Morning}).reduce(ue,[]),afternoon:e.filter(function(e){return e.classTime===Y.Afternoon}).reduce(ue,[]),evening:e.filter(function(e){return e.classTime===Y.Evening}).reduce(ue,[])}}),Ne=["#e67e22","#9b59b6","#34495e"],je=r.createElement("h2",null,"Time of day");function _e(e){var t=e.stats,n=t.morning,a=t.afternoon,s=t.evening,i=e.totalMorningHours,o=e.totalAfternoonHours,c=e.totalEveningHours,l=Object.assign({},he,{series:[{name:"Morning",color:Ne[0],data:n},{name:"Afternoon",color:Ne[1],data:a},{name:"Evening",color:Ne[2],data:s}]}),u=Object.assign({},he,{chart:{type:"pie"},series:[{data:[{name:"Morning",y:i,color:Ne[0]},{name:"Afternoon",y:o,color:Ne[1]},{name:"Evening",y:c,color:Ne[2]}]}]});return r.createElement("div",null,je,r.createElement("div",{className:ve.graphs},r.createElement("div",{className:ve.line},r.createElement(fe.a,{highcharts:de,options:l})),r.createElement("div",{className:ve.pie},r.createElement(fe.a,{highcharts:de,options:u}))))}var ke={getBjjStats:function(){var e=this;return function(t){return E.a(e,void 0,void 0,g.a.mark(function e(){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_BJJ_STATS_REQUEST",payload:void 0}),e.prev=1,e.next=4,Q.getBjjStats();case 4:n=e.sent,t(W(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Z(e.t0,"GET_BJJ_STATS_FAILURE"));case 11:case"end":return e.stop()}},e,this,[[1,8]])}))}}},we=r.createElement("h1",null,"Jiu-Jitsu Analysis"),xe=r.createElement("h2",null,"My journey so far"),Te=r.createElement(function(){return r.createElement("div",{className:X.spinner},r.createElement("div",{className:X.doubleBounce1}),r.createElement("div",{className:X.doubleBounce2}))},null),Se=function(e){function t(e){var n;return b()(this,t),(n=k()(this,x()(t).call(this,e))).toggleMenu=function(){return n.setState(function(e){return{menuVisible:!e.menuVisible}})},n.handleContentClick=function(){return n.state.menuVisible&&n.toggleMenu()},n.state={menuVisible:!1},n}return S()(t,e),j()(t,[{key:"componentWillMount",value:function(){this.props.getBjjStats()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.hasError,a=e.errorMessage,s=this.state.menuVisible;return r.createElement("div",{className:R(se.root,V()({},se.active,s))},r.createElement(ae,{menuVisible:s,toggleVisibility:this.toggleMenu}),r.createElement("div",{onClick:this.handleContentClick},r.createElement("div",{className:se.header},we,xe),r.createElement("div",{className:se.content},t&&r.createElement("div",{className:se.loader},Te),n&&r.createElement(K,{type:"danger",message:a,className:se.error}),!t&&!n&&this.renderGraphs())))}},{key:"renderGraphs",value:function(){if(null==this.props.stats)return null;var e=this.props,t=e.bjjClassTypeSeries,n=e.bjjClassTimeSeries,a=e.stats,s=a.typeBreakdown,i=s.giHours,o=s.noGiHours,c=a.timeBreakdown,l=c.morningHours,u=c.afternoonHours,m=c.eveningHours;return[r.createElement(ye,{key:"1",stats:t,totalGiHours:i,totalNoGiHours:o}),r.createElement(_e,{key:"2",stats:n,totalMorningHours:l,totalAfternoonHours:u,totalEveningHours:m})]}}]),t}(r.PureComponent),Oe=Object(s.b)(function(e){var t=e.bjj,n=t.stats,r=t.loading,a=t.error,s=a.message;return{stats:n,loading:r,hasError:a.hasError,bjjClassTypeSeries:me(e),bjjClassTimeSeries:be(e),errorMessage:s}},ke)(Se),Ae=(n(78),function(e){var t=[u.a,J],n=(0,l.d)(l.a.apply(void 0,t));return Object(l.e)(v,e,n)}());a.render(r.createElement(s.a,{store:Ae},r.createElement(i.a,null,r.createElement(o.a,null,r.createElement(c.a,{exact:!0,path:"/bjj",component:Oe}),r.createElement(c.a,{component:function(){return r.createElement("div",{className:D.error},r.createElement("div",{className:D.container},r.createElement("div",{className:D.clip},r.createElement("div",{className:D.shadow},r.createElement("span",{className:R(D.digit,D.thirdDigit)},"4"))),r.createElement("div",{className:D.clip},r.createElement("div",{className:D.shadow},r.createElement("span",{className:R(D.digit,D.secondDigit)},"0"))),r.createElement("div",{className:D.clip},r.createElement("div",{className:D.shadow},r.createElement("span",{className:R(D.digit,D.firstDigit)},"4"))),r.createElement("div",{className:D.msg},"OH!",r.createElement("span",{className:D.triangle}))),P)}})))),document.getElementById("root"))}});